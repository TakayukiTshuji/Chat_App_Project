[{"D:\\React_dev\\web-tutrial\\src\\index.js":"1","D:\\React_dev\\web-tutrial\\src\\App.js":"2","D:\\React_dev\\web-tutrial\\src\\GroupButton.js":"3","D:\\React_dev\\web-tutrial\\src\\MessageApp.js":"4","D:\\React_dev\\web-tutrial\\src\\LoginForm.js":"5","D:\\React_dev\\web-tutrial\\src\\CreateUser.js":"6","D:\\React_dev\\web-tutrial\\src\\Addgrp.js":"7","D:\\React_dev\\web-tutrial\\src\\Room.js":"8","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\index.js":"9","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\App.js":"10","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\MessageApp.js":"11","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Addgrp.js":"12","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Room.js":"13","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\CreateUser.js":"14","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\LoginForm.js":"15","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Home.js":"16"},{"size":346,"mtime":1710987349818,"results":"17","hashOfConfig":"18"},{"size":818,"mtime":1707760895102,"results":"19","hashOfConfig":"18"},{"size":835,"mtime":1703843281347,"results":"20","hashOfConfig":"18"},{"size":3635,"mtime":1716273136569,"results":"21","hashOfConfig":"18"},{"size":2518,"mtime":1715524453078,"results":"22","hashOfConfig":"18"},{"size":1554,"mtime":1712833072719,"results":"23","hashOfConfig":"18"},{"size":2679,"mtime":1712652329073,"results":"24","hashOfConfig":"18"},{"size":5303,"mtime":1718101178939,"results":"25","hashOfConfig":"18"},{"size":346,"mtime":1718703558274,"results":"26","hashOfConfig":"27"},{"size":895,"mtime":1718704210270,"results":"28","hashOfConfig":"27"},{"size":3411,"mtime":1718703558226,"results":"29","hashOfConfig":"27"},{"size":2585,"mtime":1718703558117,"results":"30","hashOfConfig":"27"},{"size":3191,"mtime":1718703558248,"results":"31","hashOfConfig":"27"},{"size":1504,"mtime":1718703558148,"results":"32","hashOfConfig":"27"},{"size":2235,"mtime":1718703558203,"results":"33","hashOfConfig":"27"},{"size":1002,"mtime":1718704254143,"results":"34","hashOfConfig":"27"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"y64vcl",{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"egt6w0",{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86"},"D:\\React_dev\\web-tutrial\\src\\index.js",[],[],"D:\\React_dev\\web-tutrial\\src\\App.js",[],[],"D:\\React_dev\\web-tutrial\\src\\GroupButton.js",[],[],"D:\\React_dev\\web-tutrial\\src\\MessageApp.js",["87","88","89"],[],"D:\\React_dev\\web-tutrial\\src\\LoginForm.js",["90","91","92","93","94"],[],"D:\\React_dev\\web-tutrial\\src\\CreateUser.js",[],[],"D:\\React_dev\\web-tutrial\\src\\Addgrp.js",[],[],"D:\\React_dev\\web-tutrial\\src\\Room.js",["95","96","97","98","99","100","101"],[],"D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\index.js",[],[],"D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\App.js",[],[],"D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\MessageApp.js",["102","103","104"],[],"//Reactフレームワーク\nimport React, { useState,useEffect,useRef } from \"react\";\n//パッケージ\nimport { useNavigate } from \"react-router-dom\";\nimport { useCookies } from \"react-cookie\";\nimport { useLocation } from \"react-router-dom\";\n//CSS\nimport \"./Message.css\";\n\n\nconst MessageApp = () => {\n  const [usermessages, setUserMessages] = useState([]);\n  const [inputValue, setInputValue]     = useState(\"\");\n  const messagesEndRef = useRef(null);\n  const navigate = useNavigate();\n  const [cookies,setCookie,removeCookie]=useCookies();\n  const location = useLocation();\n  const roomName = location.state.name;\n\n\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {  // messagesEndRef.current が null でないことを確認\n      messagesEndRef.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n    }\n  };\n  \n  //--------\n  /*GETを行う*/\n  //--------\n  const getMessages= ()=>{\n    fetch(`https://localhost:7038/api/ChatCtl?room=${roomName}`,{\n      method:'GET',\n      credentials: 'include',\n    })\n    .then((response)=>{\n      return response.json();\n    })\n    .then((data)=>{\n      console.log(\"Response data:\", data);\n      const stermessa=data.result.map(e=>({\n        message:e.message,\n        user:e.user\n      }));//resultの中のメッセージを取り出し\n      setUserMessages([...stermessa]);//メッセージを表示するために上の変数をここに入れる。\n    })\n    .catch((error)=>{console.log(\"Error feth\",error)})\n    .finally(() => scrollToBottom());\n  };\n\n  \n  //\n  //レンダリングを行う\n  //\n  useEffect(() => {\n    const timer = setInterval(()=>{\n      getMessages();\n    },3000);\n    return ()=>{\n      clearInterval(timer);\n    }\n  },[]);\n\n  //----------\n  /*POSTを行う*/\n  //----------\n  const handleMessageSend = () => {\n    fetch(`https://localhost:7038/api/ChatCtl?message=${inputValue}&room=${roomName}`, {\n      method: 'POST',\n      credentials:'include',//sameoriginはクロスリジンには送信しない。\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n      },      \n    })\n    .then((response) => {\n      return response.json();\n    })\n    .then((data) => {\n      //console.log(\"data:\",data);\n      //const userName=data.result.user;\n      setInputValue(\"\");\n      //setSender(...sender,userName);\n    })\n    .catch((error) => {console.error(\"Error sending message:\", error)})\n  };\n\n  const Logout=()=>{\n    removeCookie('sessionId');\n    navigate('/');\n  }\n\n  \n  //\n  //表示させる\n  //\n  return (\n    <div>\n      <div className=\"message-container\">\n        {usermessages.map((data,index)=>(\n              <div key={index} className=\"message\">\n                <strong>{data.user}</strong> <p>{data.message}</p>\n             </div>\n        ))}\n        <div ref={messagesEndRef} />\n      </div>\n      <div>\n        <button onClick={getMessages}>更新</button>\n        <button onClick={Logout}>ログアウト</button>\n      </div>\n      \n      <div className=\"input-container\">\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          placeholder=\"入力\"\n          className=\"input-text\"\n        />\n        <button onClick={handleMessageSend} className=\"send-button\">\n          Send\n        </button>        \n      </div>\n    </div>\n  );\n};\n\nexport default MessageApp;","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Addgrp.js",[],[],"D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Room.js",["105","106","107","108","109","110"],[],"//Reactフレームワーク\nimport React, {useState,useRef, useEffect}from 'react';\n//パッケージ\nimport { useCookies } from 'react-cookie';\nimport { json, useNavigate } from 'react-router-dom';\n//外部フレームワーク\nimport { motion,AnimatePresence } from 'framer-motion';\n\nconst Room = () => {\n    const messagesEndRef = useRef(null);\n    const [room,setroom]=useState([]);\n    const [unionRoom,setunionRoom]=useState([]);\n    const [cookies,setCookie,removeCookie]=useCookies(['session_id']);\n    const navigate = useNavigate();\n    let roomNameID=[];\n\n\n    const scrollToBottom = () => {\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n        }\n    };\n\n    useEffect(()=>{\n        setTimeout(()=>{\n            getRoom();\n        },5000);\n    },[])\n\n    const getRoom=()=>{\n        fetch(`https://localhost:7038/api/ChatRoomCtl`,{\n            credentials:'include',\n            headers:{\n                'Content-Type':'application/json',\n            }\n        })\n        .then((response)=>{\n            return response.json();\n        })\n        .then((data)=>{\n            console.log(\"successRoomData:\",data);\n            const roomName=data.result.map(e=>e.name);\n            roomNameID=data.result.map(e=>e.room_id);\n            setroom([...roomName]);\n            setunionRoom([...roomName]);\n        })\n        .catch((error)=>{console.log(\"error:\",error)})\n        .finally(()=>scrollToBottom());\n    }\n\n    const handleRoomClick=(roomid)=>{\n        const Romnum=unionRoom.indexOf(roomid);\n        if((Romnum!==-1)){\n            console.log(\"成功\")\n        }else{\n            console.log(\"ありませんでした。\");\n        }\n        \n        //roomidは名前だけ取っているので、これがどこの番号か知りたい\n        console.log(roomid);\n        navigate('/chat',{state:{name:Romnum}});\n    }\n    const changeAddRom=()=>{\n        navigate('/AddGroup');\n    }\n    const Logout=()=>{\n        removeCookie('sessionId');\n        navigate('/');\n    }\n    const DeleteRoom=()=>{\n\n        fetch(\"https://localhost:7038/api/ChatRoomCtl/Delete\",{\n            method:'DELETE',\n            credentials:'include',\n            headers:{\n                'Content-Type':'application/json'\n            }\n        })\n        .then((response)=>{\n            console.log(\"削除\",response);\n            return json(response);\n        })\n\n\n    }\n    \n    return (\n        <div>\n            <h1>Room</h1>\n            <button onClick={Logout}>ログアウト</button>\n            <button onClick={changeAddRom}>追加</button>\n            <button onClick={getRoom}>更新</button>\n            <div>\n            <motion.section\n                initial={{ opacity: 0 }} // 初期状態\n                animate={{ opacity: 1 }} // マウント時\n                exit={{ opacity: 0 }}    // アンマウント時\n            >\n                {room.map((data, index) => (\n                <button key={index} onClick={() => handleRoomClick(data)}>{data}</button>\n                ))}\n            </motion.section>\n            \n            </div>\n        </div>\n    )\n}\n\nexport default Room","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\CreateUser.js",[],[],"D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\LoginForm.js",["111","112","113"],[],"//Reactフレームワーク\nimport React, {  useState,useEffect } from 'react';\n//パッケージ\nimport { useNavigate,Link } from 'react-router-dom';\nimport { useCookies } from 'react-cookie';\n//外部ライブラリ\nimport CryptoJS from 'crypto-js';\nimport {motion} from \"framer-motion\"\n//CSS\nimport \"./LoginForm.css\";\n\nconst LoginForm = () => {\n  const [name,setname]=useState(\"\");\n  const [password,setpassword]=useState(\"\");\n  const [dat,setDat]=useState(null);\n  const navigate = useNavigate();\n  const [cookies,setCookie]=useCookies(['session_id']);\n\n  const ChangeHas=()=>{\n    const CHname=name;\n    const CHpass=CryptoJS.SHA256(password).toString(CryptoJS.enc.Hex).toUpperCase();\n    handleSession(CHname,CHpass);\n  }\n\n  const handleSession=(handName,handPass)=>{\n    fetch(`https://localhost:7038/api/ChatSessionCtl?userId=${handName}&password=${handPass}`,{\n      method:'POST',\n      credentials:'include',\n      headers:{\n        \"Content-Type\": \"application/json\",\n      }\n    })\n    .then((response) => response.json())\n    .then((data) => {\n      console.log(data);\n      setname(\"\");      //入力した文字を消す\n      setpassword(\"\");  //入力した文字を消す\n      setDat(data.message);     //dataがあるか確認するテスト\n      setCookie('session_id',data.result.sessionId,{path:'/',sameSite:'none'});\n      //session_idの名前、session_idの値、オプションでどこでも使えるようにした      \n\n      //ページ遷移を行う\n      navigate(\"/Room\");\n    })\n    .catch((error) => {\n      console.error(\"Error during login:\", error);\n    });\n  }\n\n  return (\n    <div className='logininput'>\n      <input \n      type='text'\n      value={name}\n      placeholder='ユーザ名'\n      onChange={(e)=>setname(e.target.value)}\n      />\n      <input\n      type='password'\n      value={password}\n      placeholder='パスワード'\n      onChange={(e)=>setpassword(e.target.value)}\n      />\n      <button onClick={ChangeHas}>Send</button>\n\n      <div>\n        新規作成はこちら<Link to={'/session'}>こちら</Link>\n      </div>\n\n      <div>\n        {dat ? (\n          <p>{dat}</p>\n        ):(\n          <></>\n        )}\n      </div>\n    </div>\n  )\n}\nexport default LoginForm","D:\\React_dev\\Chat_App_Project\\src\\Frontend\\UI\\src\\Home.js",["114","115","116"],[],"import { Routes, Route, Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport './Home.css';\n\nfunction Home() {\n    const navigate = useNavigate()\n    const handleSessionForm = () => {\n      navigate('../sessing')\n    }\n    const handleLoginForm = () => {\n          navigate('../')\n    }\n  return (\n    <div>\n      <div className=\"Head\">\n        <p className=\"chatapp\">ChatApp</p>\n        <p className=\"logn\">ログイン/新規作成</p>\n      </div>\n\n      <div className=\"Body\">\n        <div className=\"item\">\n            <div className=\"text\">新しく登録しましょう</div>\n            <input type=\"button\" onClick={handleSessionForm} value=\"新規登録\"/>\n        </div>\n        <div className=\"item\">\n            <div classsName=\"text\">もう作成した？ではログインしよう！</div>\n            <input type=\"button\"  onClick={handleLoginForm } value=\"ログイン\"/>\n            \n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Home;\n",{"ruleId":"117","severity":1,"message":"118","line":16,"column":10,"nodeType":"119","messageId":"120","endLine":16,"endColumn":17},{"ruleId":"117","severity":1,"message":"121","line":16,"column":18,"nodeType":"119","messageId":"120","endLine":16,"endColumn":27},{"ruleId":"122","severity":1,"message":"123","line":61,"column":5,"nodeType":"124","endLine":61,"endColumn":7,"suggestions":"125"},{"ruleId":"117","severity":1,"message":"126","line":2,"column":27,"nodeType":"119","messageId":"120","endLine":2,"endColumn":36},{"ruleId":"117","severity":1,"message":"127","line":5,"column":10,"nodeType":"119","messageId":"120","endLine":5,"endColumn":14},{"ruleId":"117","severity":1,"message":"128","line":5,"column":16,"nodeType":"119","messageId":"120","endLine":5,"endColumn":22},{"ruleId":"117","severity":1,"message":"129","line":8,"column":9,"nodeType":"119","messageId":"120","endLine":8,"endColumn":15},{"ruleId":"117","severity":1,"message":"118","line":17,"column":10,"nodeType":"119","messageId":"120","endLine":17,"endColumn":17},{"ruleId":"117","severity":1,"message":"130","line":5,"column":10,"nodeType":"119","messageId":"120","endLine":5,"endColumn":17},{"ruleId":"117","severity":1,"message":"129","line":7,"column":10,"nodeType":"119","messageId":"120","endLine":7,"endColumn":16},{"ruleId":"117","severity":1,"message":"131","line":7,"column":17,"nodeType":"119","messageId":"120","endLine":7,"endColumn":32},{"ruleId":"117","severity":1,"message":"118","line":24,"column":12,"nodeType":"119","messageId":"120","endLine":24,"endColumn":19},{"ruleId":"117","severity":1,"message":"121","line":24,"column":20,"nodeType":"119","messageId":"120","endLine":24,"endColumn":29},{"ruleId":"117","severity":1,"message":"132","line":28,"column":9,"nodeType":"119","messageId":"120","endLine":28,"endColumn":19},{"ruleId":"122","severity":1,"message":"133","line":42,"column":7,"nodeType":"124","endLine":42,"endColumn":9,"suggestions":"134"},{"ruleId":"117","severity":1,"message":"118","line":16,"column":10,"nodeType":"119","messageId":"120","endLine":16,"endColumn":17},{"ruleId":"117","severity":1,"message":"121","line":16,"column":18,"nodeType":"119","messageId":"120","endLine":16,"endColumn":27},{"ruleId":"122","severity":1,"message":"123","line":61,"column":5,"nodeType":"124","endLine":61,"endColumn":7,"suggestions":"135"},{"ruleId":"117","severity":1,"message":"131","line":7,"column":17,"nodeType":"119","messageId":"120","endLine":7,"endColumn":32},{"ruleId":"117","severity":1,"message":"118","line":13,"column":12,"nodeType":"119","messageId":"120","endLine":13,"endColumn":19},{"ruleId":"117","severity":1,"message":"121","line":13,"column":20,"nodeType":"119","messageId":"120","endLine":13,"endColumn":29},{"ruleId":"117","severity":1,"message":"132","line":15,"column":9,"nodeType":"119","messageId":"120","endLine":15,"endColumn":19},{"ruleId":"122","severity":1,"message":"133","line":28,"column":7,"nodeType":"124","endLine":28,"endColumn":9,"suggestions":"136"},{"ruleId":"117","severity":1,"message":"137","line":70,"column":11,"nodeType":"119","messageId":"120","endLine":70,"endColumn":21},{"ruleId":"117","severity":1,"message":"126","line":2,"column":27,"nodeType":"119","messageId":"120","endLine":2,"endColumn":36},{"ruleId":"117","severity":1,"message":"129","line":8,"column":9,"nodeType":"119","messageId":"120","endLine":8,"endColumn":15},{"ruleId":"117","severity":1,"message":"118","line":17,"column":10,"nodeType":"119","messageId":"120","endLine":17,"endColumn":17},{"ruleId":"117","severity":1,"message":"138","line":1,"column":10,"nodeType":"119","messageId":"120","endLine":1,"endColumn":16},{"ruleId":"117","severity":1,"message":"139","line":1,"column":18,"nodeType":"119","messageId":"120","endLine":1,"endColumn":23},{"ruleId":"117","severity":1,"message":"140","line":1,"column":25,"nodeType":"119","messageId":"120","endLine":1,"endColumn":29},"no-unused-vars","'cookies' is assigned a value but never used.","Identifier","unusedVar","'setCookie' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getMessages'. Either include it or remove the dependency array.","ArrayExpression",["141"],"'useEffect' is defined but never used.","'View' is defined but never used.","'Button' is defined but never used.","'motion' is defined but never used.","'NavLink' is defined but never used.","'AnimatePresence' is defined but never used.","'roomNameID' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getRoom'. Either include it or remove the dependency array.",["142"],["143"],["144"],"'DeleteRoom' is assigned a value but never used.","'Routes' is defined but never used.","'Route' is defined but never used.","'Link' is defined but never used.",{"desc":"145","fix":"146"},{"desc":"147","fix":"148"},{"desc":"145","fix":"149"},{"desc":"147","fix":"150"},"Update the dependencies array to be: [getMessages]",{"range":"151","text":"152"},"Update the dependencies array to be: [getRoom]",{"range":"153","text":"154"},{"range":"155","text":"152"},{"range":"156","text":"154"},[1642,1644],"[getMessages]",[1169,1171],"[getRoom]",[1582,1584],[798,800]]