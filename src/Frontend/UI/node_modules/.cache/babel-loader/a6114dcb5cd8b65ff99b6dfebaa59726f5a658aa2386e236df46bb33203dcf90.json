{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_dev\\\\web-tutrial\\\\src\\\\Addgrp.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction setCookie(name, value, days) {\n  const expirationDate = new Date();\n  expirationDate.setDate(expirationDate.getDate() + days);\n  const cookie = `${name}=${value}; expires=${expirationDate.toUTCString()}; path=/`;\n  document.cookie = cookie;\n}\nconst Addgrp = () => {\n  _s();\n  //\n  //cookieをいれる\n  //\n  const setSessionCookie = sessionId => {\n    setCookie(\"session_id\", sessionId, 7); // 有効期限は7日間\n  };\n\n  const [inptext, setinptext] = useState(\"\");\n  const [trfal_P, settrfal_P] = useState(false);\n  const [trfal_D, settrfal_D] = useState(false);\n  const handleChange = () => {\n    const textgrp = {\n      \"grpName\": inptext,\n      \"isPrivata\": trfal_P,\n      \"isDm\": trfal_D,\n      \"whitelist\": []\n    };\n    fetch(`https://localhost:7038/api/ChatRoomCtl?name=${textgrp.grpName}&isPrivate=${textgrp.isPrivata}&isDm=${textgrp.isDm}`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(textgrp.whitelist)\n      //欲しいのはホワイトリスト（指名者）\n    }).then(response => {\n      const sessionCookie = response.headers.get('session_id');\n      if (sessionCookie) {\n        // クッキーが存在する場合、セッションクッキーを設定\n        setSessionCookie(sessionCookie);\n        console.log(sessionCookie);\n      }\n      console.log(\"response;\", response);\n      return response.json();\n    }).then(data => {\n      console.log(\"Data:\", data);\n      settrfal_D(false);\n      settrfal_P(false);\n      setinptext(\"\");\n    }).catch(error => {\n      console.log(\"Grp:Error sending message\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: inptext,\n      onChange: e => setinptext(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      value: '閲覧するメンバーの制限',\n      onClick: () => settrfal_P(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"isPrivate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      value: 'ダイレクトメールに変更',\n      onClick: () => settrfal_D(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"isDm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u4E00\\u56DEtrue\\u306B\\u3059\\u308B\\u3068\\u5143\\u306B\\u623B\\u305B\\u307E\\u305B\\u3093\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleChange,\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Addgrp, \"/LEODMyw7FHcCpjiIqpsXNdgj9I=\");\n_c = Addgrp;\nexport default Addgrp;\nvar _c;\n$RefreshReg$(_c, \"Addgrp\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","setCookie","name","value","days","expirationDate","Date","setDate","getDate","cookie","toUTCString","document","Addgrp","_s","setSessionCookie","sessionId","inptext","setinptext","trfal_P","settrfal_P","trfal_D","settrfal_D","handleChange","textgrp","fetch","grpName","isPrivata","isDm","method","credentials","headers","body","JSON","stringify","whitelist","then","response","sessionCookie","get","console","log","json","data","catch","error","children","type","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/React_dev/web-tutrial/src/Addgrp.js"],"sourcesContent":["import React, { useState }from 'react'\r\n\r\nfunction setCookie(name, value, days) {\r\n    const expirationDate = new Date();\r\n    expirationDate.setDate(expirationDate.getDate() + days);\r\n    const cookie = `${name}=${value}; expires=${expirationDate.toUTCString()}; path=/`;\r\n    document.cookie = cookie;\r\n  }\r\n\r\nconst Addgrp = () => {\r\n\r\n    //\r\n    //cookieをいれる\r\n    //\r\n    const setSessionCookie = (sessionId) => {\r\n        setCookie(\"session_id\", sessionId, 7); // 有効期限は7日間\r\n    };\r\n\r\n    const [inptext,setinptext]=useState(\"\");\r\n    const [trfal_P,settrfal_P]=useState(false);\r\n    const [trfal_D,settrfal_D]=useState(false);\r\n\r\n    const handleChange=()=>{\r\n        const textgrp={\r\n            \"grpName\":inptext,\r\n            \"isPrivata\":trfal_P,\r\n            \"isDm\":trfal_D,\r\n            \"whitelist\":[]\r\n        };\r\n\r\n        fetch(`https://localhost:7038/api/ChatRoomCtl?name=${textgrp.grpName}&isPrivate=${textgrp.isPrivata}&isDm=${textgrp.isDm}`,{\r\n            method:'POST',\r\n            credentials:'include',\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body:JSON.stringify(textgrp.whitelist)\r\n            //欲しいのはホワイトリスト（指名者）\r\n        })\r\n        .then((response)=>{\r\n            const sessionCookie = response.headers.get('session_id');\r\n            if (sessionCookie) {\r\n                // クッキーが存在する場合、セッションクッキーを設定\r\n                setSessionCookie(sessionCookie);\r\n                console.log(sessionCookie);\r\n            }\r\n            console.log(\"response;\",response);\r\n            return response.json();\r\n        })\r\n        .then((data)=>{\r\n            console.log(\"Data:\",data);\r\n            settrfal_D(false);\r\n            settrfal_P(false);\r\n            setinptext(\"\");\r\n            \r\n        })\r\n        .catch((error)=>{console.log(\"Grp:Error sending message\",error);})\r\n    }\r\n\r\n  return (\r\n    <div>\r\n        <input \r\n            type='text'\r\n            value={inptext}\r\n            onChange={(e)=>setinptext(e.target.value)}\r\n        />\r\n        <input\r\n            type='radio'\r\n            value={'閲覧するメンバーの制限'}\r\n            onClick={()=>settrfal_P(true)}\r\n        />\r\n        <label>isPrivate</label>\r\n        <input\r\n            type='radio'\r\n            value={'ダイレクトメールに変更'}\r\n            onClick={()=>settrfal_D(true)}\r\n        />\r\n        <label>isDm</label>\r\n        <p>一回trueにすると元に戻せません</p>\r\n        <button\r\n            onClick={handleChange}\r\n        >Add</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Addgrp"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}